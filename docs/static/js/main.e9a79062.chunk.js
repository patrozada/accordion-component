(this["webpackJsonpaccordion-component"]=this["webpackJsonpaccordion-component"]||[]).push([[0],{12:function(e,t,a){e.exports=a(19)},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),i=a.n(c),o=(a(17),a(10)),l=a(7),s=a(8),u=a(4),v=a(11),d=a(9),m=(a(18),a(1));var p=function(e){var t=e.paidServices,a=e.freeServices;return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"service__title"},"Servicios gratuitos",n.a.createElement("ul",{className:"service__list"},a.map((function(e){return n.a.createElement("li",{key:e.serviceId},e.serviceCaption)})))),n.a.createElement("li",{className:"service__title"},"Servicios de pago",n.a.createElement("ul",{className:"service__list"},t.map((function(e){return n.a.createElement("li",{key:e.serviceId},e.serviceCaption)})))))};var g=function(e){var t=e.caption,a=e.id,c=e.allServices,i=Object(r.useState)(),o=Object(m.a)(i,2),l=o[0],s=o[1],u=Object(r.useState)(),v=Object(m.a)(u,2),d=v[0],g=v[1],f=Object(r.useState)("category__title--chevronup"),S=Object(m.a)(f,2),y=S[0],C=S[1],h=function(e){e!==a||l?(s(!1),g("hidden"),C("category__title--chevronup")):(s(!0),g(null),C("category__title--chevrondown"))},_=function(){!function(){var t={isOpen:!l,targetId:a};e.handleCategoryClick(t)}(),h(e.shouldBeOpen)};return Object(r.useEffect)((function(){h(e.shouldBeOpen)}),[e.shouldBeOpen]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"category__header",onClick:function(){return _()}},n.a.createElement("h3",{className:"category__title"},t),n.a.createElement("p",{className:y},"^")),n.a.createElement("ul",{className:d+" category__section"},n.a.createElement(p,{paidServices:c.filter((function(e){return e.serviceCategoryId===a&&!e.serviceFree})),freeServices:c.filter((function(e){return e.serviceCategoryId===a&&e.serviceFree}))})))},f=function(e){var t=Object(r.useState)("2"),a=Object(m.a)(t,2),c=a[0],i=a[1],o=function(e){i(e.targetId)},l=e.allCategories,s=e.allServices;return n.a.createElement("div",{className:"accordion__wrapper"},n.a.createElement("h2",{className:"accordion__title"},"Servicios disponibles"),n.a.createElement("ul",null,l.map((function(e){return n.a.createElement("li",{className:"accordion__category",key:e.Id},n.a.createElement(g,{id:e.Id,caption:e.Caption,allServices:s,handleCategoryClick:o,shouldBeOpen:c}))}))))},S=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={isLoading:!0,allServices:[],allCategories:[]},r.getData=r.getData.bind(Object(u.a)(r)),r}return Object(s.a)(a,[{key:"getData",value:function(){var e=this;fetch("https://debug-api.fastpayhotels.net/DataService/EntityService.svc/ServiceType?$filter=(IdServiceCategory%20eq%202)%20or%20(IdServiceCategory%20eq%203)%20or%20(IdServiceCategory%20eq%205)&$format=json&$expand=ServiceCategory&$select=Id,Free,Caption,ServiceCategory/Id,ServiceCategory/Caption").then((function(e){return e.json()})).then((function(t){return e.setState({allServices:t.value.map((function(e){return{serviceCategoryId:e.ServiceCategory.Id,serviceId:e.Id,serviceFree:e.Free,serviceCaption:e.Caption}})),allCategories:Object(o.a)(new Map(t.value.map((function(e){return[e.ServiceCategory.Id,e.ServiceCategory]}))).values())})}))}},{key:"componentDidMount",value:function(){var e=this;this.getData(),setTimeout((function(){return e.setState({isLoading:!1})}),1e3)}},{key:"render",value:function(){return n.a.createElement("div",{className:"app__container"},this.state.isLoading?n.a.createElement("div",{className:"loader"}):n.a.createElement(f,{allCategories:this.state.allCategories,allServices:this.state.allServices}))}}]),a}(n.a.Component);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.e9a79062.chunk.js.map